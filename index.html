<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#344e5e">

    <meta property="og:title" content="Bitwarp Design">
    <meta property="og:image" content="img/MainSplash.png">
    <meta property="og:description" content="Bitwarp Design is a digital design and development firm by Alexander Hicks">

    <title>Bitwarp Design</title>
    <link rel="stylesheet" href="css/bulma.css">
    <link rel="icon" type="image/png" href="img/favicon.png" sizes="16x16">
  <link rel="icon" type="image/png" href="img/favicon2x.png" sizes="32x32">
  <link rel="icon" type="image/png" href="img/favicon6x.png" sizes="96x96">
    <script defer src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
  </head>
  <body>

    <section class="hero">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        Parser Table Tool
      </h1>
      <h2 class="subtitle">
        Generates all states for a given grammar
      </h2>
    </div>
  </div>
</section>
  <section>
    <div class="container">
    <div class="columns">
    <div class="column">
      <form action="#" method="GET" id="form">

      <div class="field">
  <label class="label">Rules:</label>
  <div class="control">
    <textarea class="textarea" placeholder="Enter rules" id="rules_input"></textarea>
  </div>
</div>

    </form>
    <a class="button is-primary is-right" id="generate_button">Generate Tables</a>
    </div>
    <div class="column">
      <b>First and follow sets:</b>
      <table class="table">
        <thead>
          <tr>
            <th></th>
            <th>First</th>
            <th>Follow</th>
          </tr>
        </thead>
        <tbody id="first_follow_table">

        </tbody>
      </table>
    </div>
    <div class="column">
      <b>States:</b>
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Rules</th>
          </tr>
        </thead>
        <tbody id="state_table">

        </tbody>
      </table>
    </div>
  </div>

</div>

  </section>
  <footer class="footer">
  <div class="container">
    <nav class="level">
    <div class="content level-item has-text-centered">
      <p>

        Coded with <i class="fas fa-heart"></i> in Texas by <a href="https://www.linkedin.com/in/alexander-hicks/">Alexander Hicks</a>
        <br><font size="+2">
        <a href="https://github.com/ahicks1"><i class="fab fa-github-square"></i></a>
        <a href="https://www.linkedin.com/in/alexander-hicks/"><i class="fab fa-linkedin"></i></a>
        <a href="https://www.behance.net/alexanderhicks"><i class="fab fa-behance-square"></i></a>



    </div>
  </nav>
  </div>
  </footer>
  <script src="js/grammarModeling.js"></script>
  <script type="text/javascript">
        <!--
        var users = [];
        var grammar;
           var numCandidates = 1;
           var gDiv = document.getElementById("form");
           window.onload=function() {
             document.getElementById('form').onsubmit=function() {
               /* do what you want with the form */

               return false;
             }
           }

           document.getElementById("generate_button").onclick = handleGenButton;
           var firstTable = document.getElementById("first_follow_table");
           var stateTable = document.getElementById("state_table");
           function handleGenButton(event) {
             grammar = generateGrammar(document.getElementById("rules_input").value);
             firstTable.innerHTML = "";
             grammar.nonTerminals.forEach(function(symbol) {
               firstTable.innerHTML += `<tr>
                 <td><b>${symbol}</b></td>
                 <td>${Array.from(grammar.firstSet[symbol].values()).join(", ")}</td>
                 <td>${Array.from(grammar.followSet[symbol].values()).join(", ")}</td>
               </tr>`
             });
             grammar.updateStates();
             stateTable.innerHTML = "";
             grammar.states.forEach(function(state){
               let out = `<tr>
                 <td><b>${state.number}</b></td>
                 <td>${state.items[0].show()}</td>
               </tr>`

               state.items.slice(1).forEach((s) => {
                 out +=`<tr>
                 <td><b></b></td>
                 <td>${s.show()}</td>
                 </tr>`
               });
               stateTable.innerHTML += out;
             });
           }
           function enterHandle(event) {
             if(event.keyCode === 13){
               event.preventDefault(); // Ensure it is only this code that runs
               handleAddClick(event);
             }
           }
        //-->
     </script>
  </body>
</html>
